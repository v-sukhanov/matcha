<form class="user-info" [formGroup]="form">
    <mat-expansion-panel hideToggle [(expanded)]="accountSettingsExpanded">
        <mat-expansion-panel-header>
            <mat-panel-title>
                <div class="user-info__title" fxLayout="row" fxLayoutAlign="space-between center">
                        <span>
                            Edit account settings
                        </span>
                    <i [class.icon__opened]="accountSettingsExpanded" class="material-icons">arrow_drop_down</i>
                </div>
            </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="user-info__content" fxLayout="column" fxLayoutGap="15px">
            <mat-form-field class="full-width">
                <mat-label>email</mat-label>
                <input matInput [value]="(userService.user$ | async)?.email" formControlName="email">
            </mat-form-field>
            <mat-form-field class="full-width">
                <mat-label>username</mat-label>
                <input matInput  [value]="(userService.user$ | async)?.username" formControlName="username">
            </mat-form-field>
            <mat-form-field class="full-width">
                <mat-label>first name</mat-label>
                <input matInput [value]="(userService.user$ | async)?.firstName"  formControlName="firstName">
            </mat-form-field>
            <mat-form-field class="full-width">
                <mat-label>last name</mat-label>
                <input matInput [value]="(userService.user$ | async)?.lastName"  formControlName="lastName">
            </mat-form-field>
            <div *ngIf="profileChanged" @anim class="info">
                <span>user settings changed</span>
            </div>
            <div>
                <button [disabled]="form.invalid || profileChanged" (click)="editAccountSettings()">
                    edit
                </button>
            </div>
        </div>
    </mat-expansion-panel>
</form>
